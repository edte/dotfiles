功能概述  
mcp-builder 是一套面向开发者的系统化指南，用于构建高质量 Model Context Protocol（MCP）服务器。该技能把“让大语言模型（LLM）通过工具安全、高效地调用外部服务”作为唯一目标，覆盖从协议研究、框架选型、代码实现到质量评估的完整生命周期。它既提供 TypeScript（MCP SDK）与 Python（FastMCP）双栈的最佳实践，也给出可落地的命名、分页、错误提示、上下文管理等设计原则，帮助开发者平衡“全面 API 覆盖”与“高阶工作流工具”之间的权衡，最终交付可被各类 MCP 客户端直接消费、可扩展、可维护的远程或本地服务器。

使用方法  
整个流程被拆成四个顺序阶段，可迭代执行。  
阶段 1 深度研究与规划：先通读 MCP 官方站点地图，抓取关键规范页面（\*.md），再按推荐栈加载对应 SDK README 与语言专属指南，快速掌握 transport 选型（streamable HTTP 用于远程、stdio 用于本地）、工具命名前缀、上下文裁剪、错误提示写法等核心约束；随后研读目标服务的开放 API 文档，列出必须暴露的端点，决定“全量覆盖”还是“工作流封装”。  
阶段 2 实现：按指南初始化项目结构（tsconfig / package.json 或 pyproject.toml），先写共享层（带认证的 API 客户端、统一异常、分页辅助、JSON/Markdown 响应格式化），再逐工具落地。每个工具需用 Zod（TS）或 Pydantic（Py）声明输入输出 Schema，写清字段示例与约束；在描述里用一句话总结功能，并标注 readOnlyHint、destructiveHint 等四类注解；内部实现必须异步、支持分页、返回结构化内容与人类可读文本双通道。  
阶段 3 评审与测试：执行语言层面编译检查（npm run build 或 py_compile），用 MCP Inspector 进行端到端调用，确保工具可被发现、参数校验、错误消息可指导下一步。  
阶段 4 创建评估：依照独立、只读、复杂、可验证、稳定五原则，手工编写 10 个跨工具组合场景题，亲自跑通并记录唯一答案，最终输出符合格式要求的 XML 评估文件，用于后续回归测试与性能基准对比。

预期输出  
遵循本技能完成实施后，开发者将得到：

1. 一套可立即部署的 MCP 服务器源码（TS 或 Python），内含完整工具清单、共享客户端、类型定义与单测；
2. 通过 MCP Inspector 的交互日志与质量报告，证明服务器在工具发现、参数校验、异常处理、分页性能等方面达标；
3. 一份包含 10 组问答的 XML 评估文件，可用于任何兼容 MCP 的 LLM 客户端做端到端能力验证；
4. 伴随文档：API 覆盖清单、工具注解表、错误码说明、部署与扩容指引（streamable HTTP 无状态方案或本地 stdio 方案）。  
   后续可基于同一评估文件持续迭代，新增工具或重构实现时，只需重新跑 Inspector 与评估脚本，即可量化回归影响，确保 LLM 在多轮对话中仍稳定、准确地调用外部服务完成现实任务。

