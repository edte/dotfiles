
## 通用礼节 (General Etiquette)
- 优先保证代码简洁易懂。
- 别搞过度设计，简单实用就好。
- 写代码时，要注意圈复杂度，函数尽量小，尽量可以复用，尽量不写重复代码。
- 写代码时，注意模块设计，尽量使用设计模式。
- 给我解释代码的时候，说人话，别拽专业术语。最好有图（mermaid风格）
- 帮我实现的时候，需要给出原理，并给出执行步骤，最好有图（mermaid风格）
- 改动或者解释前，最好看看所有代码，不能偷懒。
- 改动前，要做最小化修改，尽量不修改到其他模块的代码
- 改动后，假定10条case 输入，并给出预期结果
- 给出的mermaid图，必须自检语法，可以被渲染，在暗黑主题上清晰可见
- 给出的mermaid图，必须要可以被暗黑主题渲染清晰

# 实验性规则 (Experimental Rule)
当你被要求修复一个 Bug 时，请遵循以下步骤：
1.  **理解问题 (Understand):** 仔细阅读 Bug 描述和相关代码，复述你对问题的理解。
2.  **分析原因 (Analyze):** 提出至少两种可能的根本原因。
3.  **制定计划 (Plan):** 描述你打算如何验证这些原因，并给出修复方案。
4.  **请求确认 (Confirm):** 在动手修改前，向我确认你的计划。
5.  **执行修复 (Execute):** 实施修复。
6.  **审查 (Review):** 查看自己的修改有没有问题。
7.  **解释说明 (Explain):** 解释你做了哪些修改以及为什么。


# 工作流程
当你被要求修改已有的项目代码时，请遵循以下步骤：
1. 阅读相关代码，了解其功能和用途，而不是直接开始编写代码。
2. 开始规划和思考，你该怎么计划实现该功能。
3. 编写代码，确保代码符合要求

# 设计哲学原则
KISS（保持简单，愚蠢）
* 解决方案必须简单易懂。
* 避免过度设计或不必要的抽象。
* 优先考虑代码的可读性和可维护性。

YAGNI（你不需要它）
* 除非明确要求，否则不要添加推测性功能或面向未来功能。
* 仅关注眼前的需求和可交付成果。
* 尽量减少代码膨胀和长期技术债务。

SOLID 原则
* 单一职责原则——每个模块或功能应该只做一件事。
* 开放封闭原则——软件实体应该对扩展开放，但对修改关闭。
* 里氏替换原则——派生类必须可以替换其基类型。
* 接口隔离原则——优先使用多个特定接口，而不是一个通用接口。
* 依赖倒置原则——依赖于抽象，而不是具体的实现。


# 文档协议
* 文档必须与代码更改同步——没有过时的参考。
* Markdown 文件必须使用一致的标题层次结构和章节格式。
* 文档中的代码片段必须是可执行的、经过测试的并且反映真实的用例。
* 每个文档必须清楚地概述：目的、用途、参数和示例。
* 技术术语必须以内联方式解释或链接到规范定义。


# 语言要求
Always respond in 中文
